@{
    ViewData["Title"] = "Video Gallery";
    string folderName = ViewBag.FolderName;
    string[] videoUrls = ViewBag.VideoUrls as string[];
}

<h2>Видео @folderName:</h2>

<div class="video-gallery">
    @if (videoUrls.Count() > 0)
    {
        @foreach (var videoUrl in videoUrls)
        {
            string formattedVideoUrl = videoUrl.Replace("\\", "/"); // Заменяем "\\" на "/"
            <video controls class="video-item">
                <source src="@Url.Content(videoUrl)" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        }
    }
   
</div>

<div id="overlay" onclick="closeVideo()">
    <video id="overlay-video" controls class="video-overlay">
        <source src="" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</div>

<style>
    .video-gallery {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        background-color: rgba(255, 255, 255, 0.5);
    }

    body {
        background: linear-gradient(to bottom, #cccccc, #333333);
        margin: 0; /* Убираем отступы, чтобы градиент занимал всю страницу */
        padding: 0;
        color: white;
    }
    .video-item {
        margin: 10px;
        width: 300px; /* Установка ширины видео */
        height: 200px; /* Установка высоты видео */
        cursor: pointer;
    }

    #overlay {
        display: none;
        position: fixed;
        z-index: 100;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9); /* Цвет фона для оверлея */
        text-align: center;
    }

    #overlay-video {
        position: absolute; /* Устанавливаем позиционирование абсолютно */
        top: 50%; /* Выравниваем по вертикали на 50% */
        left: 50%; /* Выравниваем по горизонтали на 50% */
        transform: translate(-50%, -50%); /* Центрируем видео */
        max-width: 350px; /* Устанавливаем максимальную ширину для видео */
        max-height: 250px; /* Устанавливаем максимальную высоту для видео */
    }
</style>

<script>
    function openVideo(url) {
        document.getElementById('overlay-video').src = url;
        document.getElementById('overlay').style.display = 'block';
    }

    function closeVideo() {
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('overlay-video').pause(); // При закрытии оверлея видео должно быть остановлено
    }
</script>
